define("waimai:widget/common/ui/pagination/core",function(e,t,n){var a=e("waimai:static/utils/oop-base/base/base"),i=function(e){return/^\d+$/.test(e)},r=a.extend({attrs:{total:{value:0,setter:function(e){return i(e)?parseInt(e,10):0}},pageSize:{value:20,setter:function(e){return i(e)?parseInt(e,10):20}},curPage:{value:1,setter:function(e){return i(e)?parseInt(e,10):1}},totalPage:{readonly:!0,getter:function(){return Math.ceil(this.get("total")/this.get("pageSize"))}},rangeLength:{value:10,setter:function(e){return i(e)?parseInt(e,10):10}}},initialize:function(e){r.superclass.initialize.call(this,e)},getRangePage:function(e){var t=this,n=t.get("curPage"),a=t.get("rangeLength")-1,i=Math.floor(a/2),r=Math.ceil(a/2),g=t.get("totalPage"),o={begin:1,end:1};return e?(o.begin=e-i,o.end=e+r):(o.begin=n-i,o.end=n+r),o.begin<1?(o.end=o.end-o.begin+1,o.begin=1,o.end>g&&(o.end=g)):o.end>g&&(o.begin+=g-o.end,o.end=g,o.begin<1&&(o.begin=1)),o},goPage:function(e){var t=this,n=t.get("totalPage");return e>=1&&n>=e?(t.set("curPage",e),this.trigger("page",{page:e}),!0):!1},updateTotal:function(e){var t=this,n=t.get("total");return 0>e||e===n||"[object Number]"!==toString.call(e)?!1:(t.set("total",e),t.render(),!0)}});n.exports=r});